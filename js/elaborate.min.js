(()=>{async function c(n,r){console.log(JSON.stringify({postid:n,page:r}));try{let o=await(await fetch("https://us-central1.gcp.data.mongodb-api.com/app/allwomenstalk-ebogu/endpoint/elaborate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postid:n,page:r}),redirect:"follow"})).text();return console.log("result",JSON.parse(o)),o}catch(t){return console.log("error",t),null}}console.log("elaborate.js started onload");setTimeout(()=>{let n=document.querySelectorAll(".post"),r=document.querySelector("head").getAttribute("data-postid");console.log("adding buttons to postid",r),n.forEach((t,o)=>{if(o>=1&&o<n.length-2){let e=document.createElement("button");e.innerText="Elaborate ...",e.classList.add("_elaborate","relative","inline-flex","items-center","gap-x-1.5","rounded-md","px-3","py-2","text-sm","font-semibold","ring-1","ring-inset","ring-gray-300","hover:bg-gray-50","hover:text-gray-900","focus:z-10"),e.addEventListener("click",async()=>{e.disabled=!0,e.innerText="Loading...";let l=await c(r,o),a=JSON.parse(l),d=document.createTextNode(a.response),s=document.createElement("p");s.classList.add("italic","opacity-70"),s.innerHTML=a.response,t.insertBefore(s,t.querySelector("button.like")),e.parentNode.removeChild(e)}),t.insertBefore(e,t.querySelector("button.like"))}})},2e3);})();
